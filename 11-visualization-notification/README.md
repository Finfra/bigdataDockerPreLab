# 11. 시각화 및 알림 시스템

## Grafana 대시보드 구성
### 11.1 실시간 모니터링 대시보드
* **장비 상태 개요**: 5개 장비별 온라인/오프라인 상태
* **센서 실시간 차트**: 온도/습도/압력 시계열 그래프  
* **모터 성능 모니터링**: 3개 모터 RPM 실시간 추적
* **장애율 통계**: 5분 단위 장애 발생률 표시
* **데이터 품질 게이지**: 실시간 데이터 품질 점수
* **대시보드 설정**: [`src/grafana-dashboard.json`](src/grafana-dashboard.json)

### 11.2 핵심 시각화 패널
| 패널 유형  | 메트릭      | 임계값                | 업데이트 주기 |
| ---------- | ----------- | ----------------------| ------------- |
| Stat       | 장비 상태   | 2개 이상 정상         | 10초          |
| TimeSeries | 센서 값     | 온도 90°C, 습도 85%  | 실시간        |
| Gauge      | 데이터 품질 | 90% 이상 정상         | 30초          |
| Alert      | 장애율      | 10% 이상 위험         | 즉시          |

## 알림 시스템 설계
### 11.3 멀티채널 알림 시스템
* **Slack 알림**: 실시간 채팅 기반 즉시 알림
* **이메일 알림**: 심각한 장애 시 이메일 발송
* **심각도별 라우팅**: INFO/WARNING/ERROR/CRITICAL 4단계
* **알림 템플릿**: HTML 형태 구조화된 메시지
* **알림 관리자**: [`src/alert_manager.py`](src/alert_manager.py)

### 11.4 알림 규칙 및 임계값
* **센서 임계값**: 온도 90°C, 습도 85%, 압력 130 PSI
* **모터 이상**: RPM 기준값 ±20% 초과 시
* **데이터 품질**: 품질 점수 70% 미만 시
* **시스템 장애**: 서비스 중단 3분 이상 시

## 실시간 알림 규칙
### 11.5 Prometheus 알림 규칙
```yaml
# 온도 임계값 초과 알림
- alert: HighTemperature
  expr: fms_sensor1_value > 90
  for: 2m
  labels:
    severity: critical
  annotations:
    summary: "장비 온도 임계값 초과"
    
# 데이터 수집 중단 알림  
- alert: DataCollectionStopped
  expr: increase(fms_data_collected_total[5m]) == 0
  for: 3m
  labels:
    severity: critical
```

## 운영 대시보드 기능
### 11.6 관리자 대시보드
* **시스템 상태**: 클러스터 전체 헬스 상태
* **성능 메트릭**: 처리량, 지연시간, 리소스 사용률
* **에러 추적**: 최근 에러 발생 현황 및 트렌드
* **용량 관리**: 디스크, 메모리 사용량 모니터링

## 주요 기술 특징
* **실시간 업데이트**: 10초 간격 자동 새로고침
* **반응형 설계**: 모바일/태블릿 지원
* **드릴다운**: 상세 분석을 위한 계층형 뷰
* **알림 통합**: Grafana + Prometheus + 외부 시스템

## 주요 산출물
* Grafana 실시간 모니터링 대시보드
* 멀티채널 알림 시스템
* Prometheus 알림 규칙 설정
* 운영 관리 대시보드
